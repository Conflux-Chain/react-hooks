(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1131:function(module,exports,__webpack_require__){"use strict";__webpack_require__(1),__webpack_require__(48),__webpack_require__(39),__webpack_require__(30),__webpack_require__(41),__webpack_require__(1132),__webpack_require__(1133),__webpack_require__(8),__webpack_require__(40);var _clientApi=__webpack_require__(53),_clientLogger=__webpack_require__(34),_configFilename=__webpack_require__(1134);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}(_configFilename.args||_configFilename.argTypes)&&_clientLogger.logger.warn("Invalid args/argTypes in config, ignoring.",JSON.stringify({args:_configFilename.args,argTypes:_configFilename.argTypes})),_configFilename.decorators&&_configFilename.decorators.forEach((function(decorator){return(0,_clientApi.addDecorator)(decorator,!1)})),_configFilename.loaders&&_configFilename.loaders.forEach((function(loader){return(0,_clientApi.addLoader)(loader,!1)})),(_configFilename.parameters||_configFilename.globals||_configFilename.globalTypes)&&(0,_clientApi.addParameters)(_objectSpread(_objectSpread({},_configFilename.parameters),{},{globals:_configFilename.globals,globalTypes:_configFilename.globalTypes}),!1),_configFilename.argTypesEnhancers&&_configFilename.argTypesEnhancers.forEach((function(enhancer){return(0,_clientApi.addArgTypesEnhancer)(enhancer)}))},1134:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"parameters",(function(){return parameters}));__webpack_require__(1135);var parameters={actions:{argTypesRegex:"^on[A-Z].*"}}},1137:function(module,exports,__webpack_require__){"use strict";(function(module){(0,__webpack_require__(361).configure)([__webpack_require__(1138),__webpack_require__(1140)],module,!1)}).call(this,__webpack_require__(107)(module))},1138:function(module,exports,__webpack_require__){var map={"./Introduction.stories.mdx":1139};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=1138},1139:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"__page",(function(){return __page}));__webpack_require__(1),__webpack_require__(19),__webpack_require__(2),__webpack_require__(8),__webpack_require__(0);var _mdx_js_react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(92),_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(217);function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var layoutProps={};function MDXContent(_ref){var components=_ref.components,props=_objectWithoutProperties(_ref,["components"]);return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("wrapper",_extends({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_6__.Meta,{title:"Example/Introduction",mdxType:"Meta"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("p",null,"This package contains universal hooks to interact with conflux network."))}MDXContent.displayName="MDXContent",MDXContent.isMDXComponent=!0;var __page=function __page(){throw new Error("Docs-only story")};__page.parameters={docsOnly:!0};var componentMeta={title:"Example/Introduction",includeStories:["__page"]},mdxStoryNameToKey={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=Object.assign({},componentMeta.parameters.docs||{},{page:function page(){return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_6__.AddContext,{mdxStoryNameToKey:mdxStoryNameToKey,mdxComponentMeta:componentMeta},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)(MDXContent,null))}}),__webpack_exports__.default=componentMeta},1140:function(module,exports,__webpack_require__){var map={"./general.stories.js":1144};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=1140},1144:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"UseConfluxPortal",(function(){return UseConfluxPortal})),__webpack_require__.d(__webpack_exports__,"UseChainNetId",(function(){return UseChainNetId})),__webpack_require__.d(__webpack_exports__,"UseEpochNumber",(function(){return UseEpochNumber})),__webpack_require__.d(__webpack_exports__,"UseBalance",(function(){return UseBalance})),__webpack_require__.d(__webpack_exports__,"UseStatus",(function(){return UseStatus})),__webpack_require__.d(__webpack_exports__,"UseConfirmationRisk",(function(){return UseConfirmationRisk})),__webpack_require__.d(__webpack_exports__,"UseClientVersion",(function(){return UseClientVersion}));__webpack_require__(1),__webpack_require__(4),__webpack_require__(16),__webpack_require__(22),__webpack_require__(13),__webpack_require__(11),__webpack_require__(20),__webpack_require__(5),__webpack_require__(17),__webpack_require__(263),__webpack_require__(3),__webpack_require__(2),__webpack_require__(7),__webpack_require__(15),__webpack_require__(12),__webpack_require__(14);var react=__webpack_require__(0),react_default=__webpack_require__.n(react),useEffectOnce=(__webpack_require__(112),__webpack_require__(129),__webpack_require__(1151));__webpack_require__(484);function isSSR(){var _globalThis$window,_globalThis$window$do;return void 0===(null===(_globalThis$window=globalThis.window)||void 0===_globalThis$window||null===(_globalThis$window$do=_globalThis$window.document)||void 0===_globalThis$window$do?void 0:_globalThis$window$do.createElement)}function onBrowser(callback,otherwise){return function isBrowser(){return!isSSR()}()?callback():null==otherwise?void 0:otherwise()}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function validAddresses(addresses){return Array.isArray(addresses)&&addresses.length}var isPortalInstalled=function isPortalInstalled(){var _window,_window$conflux;return null===(_window=window)||void 0===_window||null===(_window$conflux=_window.conflux)||void 0===_window$conflux?void 0:_window$conflux.isConfluxPortal},useConfluxPortal_useConfluxPortal=function useConfluxPortal(){var tokenAddrs=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return onBrowser((function(){var _window6,_window7;useConfluxJSDefined(),window&&window.conflux&&window.conflux.autoRefreshOnNetworkChange&&(window.conflux.autoRefreshOnNetworkChange=!1),!window.conflux&&window.localStorage.getItem("CFXJS_REACT_HOOK_PORTAL_ADDRESS_CACHE")&&window.localStorage.removeItem("CFXJS_REACT_HOOK_PORTAL_ADDRESS_CACHE");var _useState2=_slicedToArray(Object(react.useState)(window.conflux?window.localStorage.getItem("CFXJS_REACT_HOOK_PORTAL_ADDRESS_CACHE")||void 0:null),2),address=_useState2[0],setAddress=_useState2[1],_useChainNetId=useChainNetId(),chainId=_useChainNetId.chainId,networkId=_useChainNetId.networkId,_useState4=_slicedToArray(Object(react.useState)(null),2),error=_useState4[0],setError=_useState4[1];Object(useEffectOnce.a)((function(){var _window2,_window2$conflux;null===(_window2=window)||void 0===_window2||null===(_window2$conflux=_window2.conflux)||void 0===_window2$conflux||_window2$conflux.send({method:"cfx_accounts"}).then((function(accounts){validAddresses(accounts)?(setAddress(accounts[0]),window.localStorage.setItem("CFXJS_REACT_HOOK_PORTAL_ADDRESS_CACHE",accounts[0])):(window.localStorage.removeItem("CFXJS_REACT_HOOK_PORTAL_ADDRESS_CACHE"),setAddress(null))}))}));var login=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark((function _callee(fallbackFn){var _window3;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(null===(_window3=window)||void 0===_window3?void 0:_window3.conflux){_context.next=2;break}return _context.abrupt("return");case 2:if(_context.t0=!!address,!_context.t0){_context.next=7;break}return _context.next=6,window.conflux.send("cfx_accounts");case 6:_context.t0=_context.sent.length;case 7:if(!_context.t0){_context.next=10;break}return _context.abrupt("return","function"==typeof fallbackFn?fallbackFn():void 0);case 10:return _context.abrupt("return",window.conflux.send("cfx_requestAccounts").then((function(addresses){return validAddresses(addresses)&&setAddress(addresses[0])})).catch((function(error){return setError(error)})));case 12:case"end":return _context.stop()}}),_callee)})));return function login(_x){return _ref.apply(this,arguments)}}(),_useBalance2=_slicedToArray(useBalance(address,tokenAddrs),2),balance=_useBalance2[0],tokenBalances=_useBalance2[1];return Object(useEffectOnce.a)((function(){var _window4,_window4$conflux,accountListener=function accountListener(newAccounts){validAddresses(newAccounts)?(window.localStorage.setItem("CFXJS_REACT_HOOK_PORTAL_ADDRESS_CACHE",newAccounts[0]),setAddress(newAccounts[0])):(null!==address&&setAddress(null),window.localStorage.removeItem("CFXJS_REACT_HOOK_PORTAL_ADDRESS_CACHE"))};return null===(_window4=window)||void 0===_window4||null===(_window4$conflux=_window4.conflux)||void 0===_window4$conflux||_window4$conflux.on("accountsChanged",accountListener),function(){var _window5,_window5$conflux;null===(_window5=window)||void 0===_window5||null===(_window5$conflux=_window5.conflux)||void 0===_window5$conflux||_window5$conflux.off("accountsChanged",accountListener)}})),{portalInstalled:Boolean(isPortalInstalled()),address:address,balances:[balance,tokenBalances],networkId:networkId,chainId:chainId,error:error,login:login,useEnsurePortalLogin:function useEnsurePortalLogin(){Object(useEffectOnce.a)(login)},conflux:null===(_window6=window)||void 0===_window6?void 0:_window6.conflux,confluxJS:null===(_window7=window)||void 0===_window7?void 0:_window7.confluxJS}}),(function(){return{portalInstalled:!1,address:null,balances:[0,[]],networkId:void 0,chainId:void 0,error:void 0,login:function login(){},useEnsurePortalLogin:function useEnsurePortalLogin(){},conflux:void 0,confluxJS:void 0}}))};useConfluxPortal_useConfluxPortal.openHomePage=function openHomePage(){window.open("https://portal.confluxnetwork.org")};var src_useConfluxPortal=useConfluxPortal_useConfluxPortal,useEvent=(__webpack_require__(202),__webpack_require__(1152));function useEpochNumber_slicedToArray(arr,i){return function useEpochNumber_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function useEpochNumber_iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function useEpochNumber_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return useEpochNumber_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return useEpochNumber_arrayLikeToArray(o,minLen)}(arr,i)||function useEpochNumber_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function useEpochNumber_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var EPOCH_NUMBER_UPDATED_EVENT_DATA={detail:void 0},EPOCH_NUMBER_UPDATED_EVENT=null;function dispatchEpochNumberUpdated(){var _window,_window$confluxJS,_window$confluxJS$get;EPOCH_NUMBER_UPDATED_EVENT||(EPOCH_NUMBER_UPDATED_EVENT=new CustomEvent("epochNumberUpdated",EPOCH_NUMBER_UPDATED_EVENT_DATA)),null===(_window=window)||void 0===_window||null===(_window$confluxJS=_window.confluxJS)||void 0===_window$confluxJS||null===(_window$confluxJS$get=_window$confluxJS.getEpochNumber())||void 0===_window$confluxJS$get||_window$confluxJS$get.then((function(epochNumber){EPOCH_NUMBER_UPDATED_EVENT_DATA.detail!==epochNumber&&(EPOCH_NUMBER_UPDATED_EVENT_DATA.detail=epochNumber,window.dispatchEvent(EPOCH_NUMBER_UPDATED_EVENT))}))}function setupEpochListener(){var interval=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3;isSSR()||window&&window.confluxJS&&(void 0!==window.__EPOCH_NUMBER_UPDATED_EVENT_INTERVAL&&clearInterval(__EPOCH_NUMBER_UPDATED_EVENT_INTERVAL),dispatchEpochNumberUpdated(),window.__EPOCH_NUMBER_UPDATED_EVENT_INTERVAL=setInterval(dispatchEpochNumberUpdated,interval))}__webpack_require__(18);var cfx_single_call_balance_checker_abi=__webpack_require__(218);function initContract(params,sdkCfxInstance){var _window,_window$confluxJS;return null===(_window=window)||void 0===_window||null===(_window$confluxJS=_window.confluxJS)||void 0===_window$confluxJS?void 0:_window$confluxJS.Contract(params,sdkCfxInstance)}function _toArray(arr){return function useBalance_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||_iterableToArray(arr)||useBalance_unsupportedIterableToArray(arr)||function useBalance_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return useBalance_arrayLikeToArray(arr)}(arr)||_iterableToArray(arr)||useBalance_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function useBalance_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return useBalance_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?useBalance_arrayLikeToArray(o,minLen):void 0}}function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}function useBalance_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var c=onBrowser((function(){var _window;return initContract({abi:cfx_single_call_balance_checker_abi,address:"0x8f35930629fce5b5cf4cd762e71006045bfeb24d"},null===(_window=window)||void 0===_window?void 0:_window.confluxJS)}),(function(){return null}));function useBalance(userAddr,tokenAddrs){var confluxJSDefined=useConfluxJSDefined(),chainId=useChainNetId().chainId;Object(react.useEffect)((function(){confluxJSDefined&&chainId&&(c&&c._feedAddressNetId?c._feedAddressNetId(cfx_single_call_balance_checker_abi,window.confluxJS):c=initContract({abi:cfx_single_call_balance_checker_abi,address:"0x8f35930629fce5b5cf4cd762e71006045bfeb24d"},window.confluxJS))}),[confluxJSDefined,Boolean(chainId)]);var _useEpochNumberSWR=useEpochNumberSWR(userAddr?["UPDATE_USER_BALANCE_SWR_ID",userAddr,tokenAddrs.toString()]:null,(function(){return function getTokensBalance(userAddr,tokenAddrs){var _c,_c$balances;return null===(_c=c)||void 0===_c||null===(_c$balances=_c.balances([userAddr],["0x0000000000000000000000000000000000000000"].concat(_toConsumableArray(tokenAddrs))))||void 0===_c$balances?void 0:_c$balances.call()}(userAddr,tokenAddrs)}),{initialData:[0].concat(_toConsumableArray(tokenAddrs.map((function(){return 0})))),revalidateOnMount:!0}),_useEpochNumberSWR$da=_toArray(_useEpochNumberSWR.data),balance=_useEpochNumberSWR$da[0],tokenBalances=_useEpochNumberSWR$da.slice(1),balanceErr=_useEpochNumberSWR.error,isValidating=_useEpochNumberSWR.isValidating;return balanceErr&&console.error("Get Balance Error: ".concat(balanceErr.message)),[balance,tokenBalances,isValidating]}var esm=__webpack_require__(493),useIdle=__webpack_require__(1153);function swr_toConsumableArray(arr){return function swr_arrayWithoutHoles(arr){if(Array.isArray(arr))return swr_arrayLikeToArray(arr)}(arr)||function swr_iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||function swr_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return swr_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return swr_arrayLikeToArray(o,minLen)}(arr)||function swr_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function swr_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function useIdleSWR(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];var key=args[0],rest=args.slice(1),idleDelay=3e5;return args[1]&&args[1].idleDelay&&(idleDelay=args[1].idleDelay),args[2]&&args[2].idleDelay&&(idleDelay=args[2].idleDelay),esm.a.apply(void 0,[Object(useIdle.a)(idleDelay)?null:key].concat(swr_toConsumableArray(rest)))}function useEpochNumberSWR(){for(var confluxJSDefined=useConfluxJSDefined(),_len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++)args[_key2]=arguments[_key2];var key=args[0],rest=args.slice(1),swrRst=useIdleSWR.apply(void 0,[confluxJSDefined?key:null].concat(swr_toConsumableArray(rest)));return Object(react.useEffect)((function(){swrRst.mutate()}),[confluxJSDefined]),Object(useEvent.a)("epochNumberUpdated",(function(){return swrRst.mutate()})),swrRst}function useConfluxJSDefined_slicedToArray(arr,i){return function useConfluxJSDefined_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function useConfluxJSDefined_iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function useConfluxJSDefined_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return useConfluxJSDefined_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return useConfluxJSDefined_arrayLikeToArray(o,minLen)}(arr,i)||function useConfluxJSDefined_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function useConfluxJSDefined_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var useConfluxJSDefined=function(){var customInterval=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return onBrowser((function(){var _window,_useState2=useConfluxJSDefined_slicedToArray(Object(react.useState)(Boolean(null===(_window=window)||void 0===_window?void 0:_window.confluxJS)),2),defined=_useState2[0],setDefined=_useState2[1],intervalRef=Object(react.useRef)(null);return Object(useEffectOnce.a)((function(){return defined||(intervalRef.current=setInterval((function(){var _window2;(null===(_window2=window)||void 0===_window2?void 0:_window2.confluxJS)&&(setDefined(!0),clearInterval(intervalRef.current))}),customInterval)),function(){intervalRef.current&&clearInterval(intervalRef.current)}})),defined}),(function(){return!1}))};function useStatus(){var _useEpochNumberSWR=useEpochNumberSWR(["GET_STATUS_SWR_ID"],(function(){var _window,_window$confluxJS;return null===(_window=window)||void 0===_window||null===(_window$confluxJS=_window.confluxJS)||void 0===_window$confluxJS?void 0:_window$confluxJS.getStatus()}),{initialData:{},revalidateOnMount:!0}),status=_useEpochNumberSWR.data,getStatusError=_useEpochNumberSWR.error;return getStatusError&&console.error("Error get status: ".concat(getStatusError.message)),status}function useClientVersion(){var confluxJSDefined=useConfluxJSDefined(),_useSWR=useIdleSWR(confluxJSDefined?"GET_CLIENT_VERSION_SWR_ID":null,(function(){var _window,_window$conflux,_window2,_window2$conflux,_window3,_window3$conflux,_window3$conflux$call;return"function"==typeof(null===(_window=window)||void 0===_window||null===(_window$conflux=_window.conflux)||void 0===_window$conflux?void 0:_window$conflux.send)?null===(_window2=window)||void 0===_window2||null===(_window2$conflux=_window2.conflux)||void 0===_window2$conflux?void 0:_window2$conflux.send("cfx_clientVersion",[]):null===(_window3=window)||void 0===_window3||null===(_window3$conflux=_window3.conflux)||void 0===_window3$conflux||null===(_window3$conflux$call=_window3$conflux.call)||void 0===_window3$conflux$call?void 0:_window3$conflux$call.call(_window3$conflux,"cfx_clientVersion")})),clientVersion=_useSWR.data,getClientVersionError=_useSWR.error,mutate=_useSWR.mutate;return Object(react.useEffect)((function(){confluxJSDefined&&mutate()}),[confluxJSDefined]),getClientVersionError&&console.error("Error get clientVersion: ".concat(null==getClientVersionError?void 0:getClientVersionError.message)),clientVersion}__webpack_require__(459);function useChainNetId_slicedToArray(arr,i){return function useChainNetId_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function useChainNetId_iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function useChainNetId_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return useChainNetId_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return useChainNetId_arrayLikeToArray(o,minLen)}(arr,i)||function useChainNetId_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function useChainNetId_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var useChainNetId=function(){return onBrowser((function(){var _globalThis$window,_globalThis$window$co,_window,_window$conflux;useConfluxJSDefined();var _useState2=useChainNetId_slicedToArray(Object(react.useState)(null===(_globalThis$window=globalThis.window)||void 0===_globalThis$window||null===(_globalThis$window$co=_globalThis$window.conflux)||void 0===_globalThis$window$co?void 0:_globalThis$window$co.chainId),2),chainId=_useState2[0],setChainId=_useState2[1],_useState4=useChainNetId_slicedToArray(Object(react.useState)(parseInt(null===(_window=window)||void 0===_window||null===(_window$conflux=_window.conflux)||void 0===_window$conflux?void 0:_window$conflux.networkVersion,10)||null),2),networkId=_useState4[0],setNetworkId=_useState4[1];return Object(useEffectOnce.a)((function(){var _window2,_window2$conflux,_window3,_window3$conflux,chainListener=function chainListener(chainId){setChainId(chainId)},networkListener=function networkListener(networkId){setNetworkId(parseInt(networkId,10)||null)};return null===(_window2=window)||void 0===_window2||null===(_window2$conflux=_window2.conflux)||void 0===_window2$conflux||_window2$conflux.on("chainIdChanged",chainListener),null===(_window3=window)||void 0===_window3||null===(_window3$conflux=_window3.conflux)||void 0===_window3$conflux||_window3$conflux.on("networkChanged",networkListener),function(){var _window4,_window4$conflux,_window5,_window5$conflux;null===(_window4=window)||void 0===_window4||null===(_window4$conflux=_window4.conflux)||void 0===_window4$conflux||_window4$conflux.off("chainIdChanged",chainListener),null===(_window5=window)||void 0===_window5||null===(_window5$conflux=_window5.conflux)||void 0===_window5$conflux||_window5$conflux.off("networkChanged",networkListener)}})),{chainId:chainId,networkId:networkId}}),(function(){return{}}))},big=__webpack_require__(485),big_default=__webpack_require__.n(big);setupEpochListener();var js_conflux_sdk_umd_min=__webpack_require__(492);function ConfluxJSDefinedUI(){var confluxJSDefined=useConfluxJSDefined();return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement("p",null,"window.confluxJS is"," ",confluxJSDefined?"defined, if your have portal installed and want to test this with js-conflux-sdk, try open this page in incognito mode":"not defined"),react_default.a.createElement("button",{disabled:confluxJSDefined,onClick:function onClick(){return window.confluxJS=new js_conflux_sdk_umd_min.Conflux({url:"http://wallet-mainnet-jsonrpc.conflux-chain.org:12537"})}},confluxJSDefined?"window.confluxJS already defined":"Define window.confluxJS with js-conflux-sdk"))}function general_stories_slicedToArray(arr,i){return function general_stories_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function general_stories_iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function general_stories_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return general_stories_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return general_stories_arrayLikeToArray(o,minLen)}(arr,i)||function general_stories_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function general_stories_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_exports__.default={parameters:{storySource:{source:'\n      \n      // @ts-nocheck\n      // @ts-ignore\n      var __STORY__ = "import React, { useMemo, useState } from \\"react\\"\\nimport {\\n  useStatus,\\n  useEpochNumber,\\n  useConfluxPortal,\\n  useBalance,\\n  useChainNetId,\\n  useConfirmationRiskByHash,\\n  useClientVersion,\\n  Big,\\n} from \\"../src\\"\\nimport ConfluxJSDefinedUI from \\"./ConfluxJSDefinedUI\\"\\n\\nexport default {\\n  title: \\"General\\",\\n}\\n\\nconst UseConfluxPortalTemplate = () => {\\n  const {\\n    portalInstalled,\\n    address,\\n    balances: [cfxBalance, tokenBalances],\\n    login,\\n    useEnsurePortalLogin,\\n    chainId, networkId,\\n  } = useConfluxPortal([\\n    \\"CFX:TYPE.CONTRACT:ACHC8NXJ7R451C223M18W2DWJNMHKD6RXAWRVKVSY2\\", // fc contract address\\n    \\"CFX:TYPE.CONTRACT:ACDRF821T59Y12B4GUYZCKYUW2XF1GFPJ2BA0X4SJ6\\", // ceth contract address\\n  ])\\n\\n  useEnsurePortalLogin()\\n  const loggedIn = Boolean(address)\\n  const [fcBalance, cethBalance] = tokenBalances.map((b) =>\\n    (Big(b) / 1e18).toString()\\n  )\\n\\n  return (\\n    <>\\n      <p>portalInstalled: {portalInstalled.toString()}</p>\\n      <p>chainId: {chainId}</p>\\n      <p>networkId: {networkId}</p>\\n      <p>address: {address}</p>\\n      <p>CFX balance: {(Big(cfxBalance) / 1e18).toString()} CFX</p>\\n      <div>\\n        token balances:\\n        <p> FC: {fcBalance} FC</p>\\n        <p> CETH: {cethBalance} CETH</p>\\n      </div>\\n      <button disabled={loggedIn || !portalInstalled} onClick={login}>\\n        {portalInstalled\\n          ? loggedIn\\n            ? \\"Already logged in\\"\\n            : \\"login into portal\\"\\n          : \\"Portal not installed\\"}\\n      </button>\\n      <ConfluxJSDefinedUI />\\n    </>\\n  )\\n}\\n\\nexport const UseConfluxPortal = UseConfluxPortalTemplate.bind({})\\n\\nconst UseChainNetIdTemplate = () => {\\n  const {\\n    chainId, networkId,\\n  } = useChainNetId()\\n\\n  return (\\n    <>\\n      <p>chainId: {chainId}</p>\\n      <p>networkId: {networkId}</p>\\n      <ConfluxJSDefinedUI />\\n    </>\\n  )\\n}\\n\\nexport const UseChainNetId = UseChainNetIdTemplate.bind({})\\n\\nconst UseEpochNumberTemplate = () => {\\n  const epochNumber = useEpochNumber()\\n\\n  return (\\n    <>\\n      <p>epochNumber: {epochNumber}</p>\\n      <ConfluxJSDefinedUI />\\n    </>\\n  )\\n}\\n\\nexport const UseEpochNumber = UseEpochNumberTemplate.bind({})\\n\\nconst UseBalanceTemplate = () => {\\n  const userAddr = \\"CFX:TYPE.USER:AAKAFCMM3E2BWJMFYCJE5N0Z6JKXGEM1JUDWDH32JZ\\"\\n  const tokenAddrs = [\\n    \\"CFX:TYPE.CONTRACT:ACHC8NXJ7R451C223M18W2DWJNMHKD6RXAWRVKVSY2\\", // fc contract address\\n    \\"CFX:TYPE.CONTRACT:ACDRF821T59Y12B4GUYZCKYUW2XF1GFPJ2BA0X4SJ6\\", // ceth contract address\\n  ]\\n  const [balance, [fcBalance, cethBalance]] = useBalance(userAddr, tokenAddrs)\\n\\n  return (\\n    <>\\n      <p>CFX Balance: {(Big(balance) / 1e18).toString()} CFX</p>\\n      <p>FC Balance: {(Big(fcBalance) / 1e18).toString()} FC</p>\\n      <p>cETH Balance: {(Big(cethBalance) / 1e18).toString()} cETH</p>\\n      <ConfluxJSDefinedUI />\\n    </>\\n  )\\n}\\n\\nexport const UseBalance = UseBalanceTemplate.bind({})\\n\\nconst UseStatusTemplate = () => {\\n  const status = useStatus()\\n\\n  return (\\n    <>\\n      <p>Status: {JSON.stringify(status)} CFX</p>\\n      <ConfluxJSDefinedUI />\\n    </>\\n  )\\n}\\n\\nexport const UseStatus = UseStatusTemplate.bind({})\\n\\nconst UseConfirmationRiskTemplate = () => {\\n  const [resetCount, setResetCount] = useState(1)\\n  const status = useStatus()\\n  const currentBlockHash = useMemo(() => status?.bestHash, [\\n    Boolean(status?.bestHash),\\n    resetCount,\\n  ])\\n  const risk = useConfirmationRiskByHash(currentBlockHash)\\n\\n  return (\\n    <>\\n      <p>block: {currentBlockHash}</p>\\n      <p>risk: {risk}</p>\\n      <button onClick={() => setResetCount((c) => c + 1)}>\\n        try another block\\n      </button>\\n      <ConfluxJSDefinedUI />\\n    </>\\n  )\\n}\\n\\nexport const UseConfirmationRisk = UseConfirmationRiskTemplate.bind({})\\n\\nconst UseClientVersionTemplate = () => {\\n  console.log(useClientVersion())\\n  const clientVersion = useClientVersion()\\n\\n  return (\\n    <>\\n      <p>Fullnode version: {clientVersion}</p>\\n      <br />\\n      <ConfluxJSDefinedUI />\\n    </>\\n  )\\n}\\n\\nexport const UseClientVersion = UseClientVersionTemplate.bind({})\\n";\n      // @ts-ignore\n      var __LOCATIONS_MAP__ = {"UseConfluxPortal":{"startLoc":{"col":33,"line":18},"endLoc":{"col":1,"line":59},"startBody":{"col":33,"line":18},"endBody":{"col":1,"line":59}},"UseChainNetId":{"startLoc":{"col":30,"line":63},"endLoc":{"col":1,"line":75},"startBody":{"col":30,"line":63},"endBody":{"col":1,"line":75}},"UseEpochNumber":{"startLoc":{"col":31,"line":79},"endLoc":{"col":1,"line":88},"startBody":{"col":31,"line":79},"endBody":{"col":1,"line":88}},"UseBalance":{"startLoc":{"col":27,"line":92},"endLoc":{"col":1,"line":108},"startBody":{"col":27,"line":92},"endBody":{"col":1,"line":108}},"UseStatus":{"startLoc":{"col":26,"line":112},"endLoc":{"col":1,"line":121},"startBody":{"col":26,"line":112},"endBody":{"col":1,"line":121}},"UseConfirmationRisk":{"startLoc":{"col":36,"line":125},"endLoc":{"col":1,"line":144},"startBody":{"col":36,"line":125},"endBody":{"col":1,"line":144}},"UseClientVersion":{"startLoc":{"col":33,"line":148},"endLoc":{"col":1,"line":159},"startBody":{"col":33,"line":148},"endBody":{"col":1,"line":159}}};\nimport React, { useMemo, useState } from "react"\nimport {\n  useStatus,\n  useEpochNumber,\n  useConfluxPortal,\n  useBalance,\n  useChainNetId,\n  useConfirmationRiskByHash,\n  useClientVersion,\n  Big,\n} from "../src"\nimport ConfluxJSDefinedUI from "./ConfluxJSDefinedUI"\n\nexport default {\n  title: "General",\n}\n\nconst UseConfluxPortalTemplate = () => {\n  const {\n    portalInstalled,\n    address,\n    balances: [cfxBalance, tokenBalances],\n    login,\n    useEnsurePortalLogin,\n    chainId, networkId,\n  } = useConfluxPortal([\n    "CFX:TYPE.CONTRACT:ACHC8NXJ7R451C223M18W2DWJNMHKD6RXAWRVKVSY2", // fc contract address\n    "CFX:TYPE.CONTRACT:ACDRF821T59Y12B4GUYZCKYUW2XF1GFPJ2BA0X4SJ6", // ceth contract address\n  ])\n\n  useEnsurePortalLogin()\n  const loggedIn = Boolean(address)\n  const [fcBalance, cethBalance] = tokenBalances.map((b) =>\n    (Big(b) / 1e18).toString()\n  )\n\n  return (\n    <>\n      <p>portalInstalled: {portalInstalled.toString()}</p>\n      <p>chainId: {chainId}</p>\n      <p>networkId: {networkId}</p>\n      <p>address: {address}</p>\n      <p>CFX balance: {(Big(cfxBalance) / 1e18).toString()} CFX</p>\n      <div>\n        token balances:\n        <p> FC: {fcBalance} FC</p>\n        <p> CETH: {cethBalance} CETH</p>\n      </div>\n      <button disabled={loggedIn || !portalInstalled} onClick={login}>\n        {portalInstalled\n          ? loggedIn\n            ? "Already logged in"\n            : "login into portal"\n          : "Portal not installed"}\n      </button>\n      <ConfluxJSDefinedUI />\n    </>\n  )\n}\n\nexport const UseConfluxPortal = UseConfluxPortalTemplate.bind({});\n\nconst UseChainNetIdTemplate = () => {\n  const {\n    chainId, networkId,\n  } = useChainNetId()\n\n  return (\n    <>\n      <p>chainId: {chainId}</p>\n      <p>networkId: {networkId}</p>\n      <ConfluxJSDefinedUI />\n    </>\n  )\n}\n\nexport const UseChainNetId = UseChainNetIdTemplate.bind({});\n\nconst UseEpochNumberTemplate = () => {\n  const epochNumber = useEpochNumber()\n\n  return (\n    <>\n      <p>epochNumber: {epochNumber}</p>\n      <ConfluxJSDefinedUI />\n    </>\n  )\n}\n\nexport const UseEpochNumber = UseEpochNumberTemplate.bind({});\n\nconst UseBalanceTemplate = () => {\n  const userAddr = "CFX:TYPE.USER:AAKAFCMM3E2BWJMFYCJE5N0Z6JKXGEM1JUDWDH32JZ"\n  const tokenAddrs = [\n    "CFX:TYPE.CONTRACT:ACHC8NXJ7R451C223M18W2DWJNMHKD6RXAWRVKVSY2", // fc contract address\n    "CFX:TYPE.CONTRACT:ACDRF821T59Y12B4GUYZCKYUW2XF1GFPJ2BA0X4SJ6", // ceth contract address\n  ]\n  const [balance, [fcBalance, cethBalance]] = useBalance(userAddr, tokenAddrs)\n\n  return (\n    <>\n      <p>CFX Balance: {(Big(balance) / 1e18).toString()} CFX</p>\n      <p>FC Balance: {(Big(fcBalance) / 1e18).toString()} FC</p>\n      <p>cETH Balance: {(Big(cethBalance) / 1e18).toString()} cETH</p>\n      <ConfluxJSDefinedUI />\n    </>\n  )\n}\n\nexport const UseBalance = UseBalanceTemplate.bind({});\n\nconst UseStatusTemplate = () => {\n  const status = useStatus()\n\n  return (\n    <>\n      <p>Status: {JSON.stringify(status)} CFX</p>\n      <ConfluxJSDefinedUI />\n    </>\n  )\n}\n\nexport const UseStatus = UseStatusTemplate.bind({});\n\nconst UseConfirmationRiskTemplate = () => {\n  const [resetCount, setResetCount] = useState(1)\n  const status = useStatus()\n  const currentBlockHash = useMemo(() => status?.bestHash, [\n    Boolean(status?.bestHash),\n    resetCount,\n  ])\n  const risk = useConfirmationRiskByHash(currentBlockHash)\n\n  return (\n    <>\n      <p>block: {currentBlockHash}</p>\n      <p>risk: {risk}</p>\n      <button onClick={() => setResetCount((c) => c + 1)}>\n        try another block\n      </button>\n      <ConfluxJSDefinedUI />\n    </>\n  )\n}\n\nexport const UseConfirmationRisk = UseConfirmationRiskTemplate.bind({});\n\nconst UseClientVersionTemplate = () => {\n  console.log(useClientVersion())\n  const clientVersion = useClientVersion()\n\n  return (\n    <>\n      <p>Fullnode version: {clientVersion}</p>\n      <br />\n      <ConfluxJSDefinedUI />\n    </>\n  )\n}\n\nexport const UseClientVersion = UseClientVersionTemplate.bind({});\n\n\nUseConfluxPortal.parameters = { storySource: { source: "() => {\\n  const {\\n    portalInstalled,\\n    address,\\n    balances: [cfxBalance, tokenBalances],\\n    login,\\n    useEnsurePortalLogin,\\n    chainId, networkId,\\n  } = useConfluxPortal([\\n    \\"CFX:TYPE.CONTRACT:ACHC8NXJ7R451C223M18W2DWJNMHKD6RXAWRVKVSY2\\", // fc contract address\\n    \\"CFX:TYPE.CONTRACT:ACDRF821T59Y12B4GUYZCKYUW2XF1GFPJ2BA0X4SJ6\\", // ceth contract address\\n  ])\\n\\n  useEnsurePortalLogin()\\n  const loggedIn = Boolean(address)\\n  const [fcBalance, cethBalance] = tokenBalances.map((b) =>\\n    (Big(b) / 1e18).toString()\\n  )\\n\\n  return (\\n    <>\\n      <p>portalInstalled: {portalInstalled.toString()}</p>\\n      <p>chainId: {chainId}</p>\\n      <p>networkId: {networkId}</p>\\n      <p>address: {address}</p>\\n      <p>CFX balance: {(Big(cfxBalance) / 1e18).toString()} CFX</p>\\n      <div>\\n        token balances:\\n        <p> FC: {fcBalance} FC</p>\\n        <p> CETH: {cethBalance} CETH</p>\\n      </div>\\n      <button disabled={loggedIn || !portalInstalled} onClick={login}>\\n        {portalInstalled\\n          ? loggedIn\\n            ? \\"Already logged in\\"\\n            : \\"login into portal\\"\\n          : \\"Portal not installed\\"}\\n      </button>\\n      <ConfluxJSDefinedUI />\\n    </>\\n  )\\n}" }, ...UseConfluxPortal.parameters };\nUseChainNetId.parameters = { storySource: { source: "() => {\\n  const {\\n    chainId, networkId,\\n  } = useChainNetId()\\n\\n  return (\\n    <>\\n      <p>chainId: {chainId}</p>\\n      <p>networkId: {networkId}</p>\\n      <ConfluxJSDefinedUI />\\n    </>\\n  )\\n}" }, ...UseChainNetId.parameters };\nUseEpochNumber.parameters = { storySource: { source: "() => {\\n  const epochNumber = useEpochNumber()\\n\\n  return (\\n    <>\\n      <p>epochNumber: {epochNumber}</p>\\n      <ConfluxJSDefinedUI />\\n    </>\\n  )\\n}" }, ...UseEpochNumber.parameters };\nUseBalance.parameters = { storySource: { source: "() => {\\n  const userAddr = \\"CFX:TYPE.USER:AAKAFCMM3E2BWJMFYCJE5N0Z6JKXGEM1JUDWDH32JZ\\"\\n  const tokenAddrs = [\\n    \\"CFX:TYPE.CONTRACT:ACHC8NXJ7R451C223M18W2DWJNMHKD6RXAWRVKVSY2\\", // fc contract address\\n    \\"CFX:TYPE.CONTRACT:ACDRF821T59Y12B4GUYZCKYUW2XF1GFPJ2BA0X4SJ6\\", // ceth contract address\\n  ]\\n  const [balance, [fcBalance, cethBalance]] = useBalance(userAddr, tokenAddrs)\\n\\n  return (\\n    <>\\n      <p>CFX Balance: {(Big(balance) / 1e18).toString()} CFX</p>\\n      <p>FC Balance: {(Big(fcBalance) / 1e18).toString()} FC</p>\\n      <p>cETH Balance: {(Big(cethBalance) / 1e18).toString()} cETH</p>\\n      <ConfluxJSDefinedUI />\\n    </>\\n  )\\n}" }, ...UseBalance.parameters };\nUseStatus.parameters = { storySource: { source: "() => {\\n  const status = useStatus()\\n\\n  return (\\n    <>\\n      <p>Status: {JSON.stringify(status)} CFX</p>\\n      <ConfluxJSDefinedUI />\\n    </>\\n  )\\n}" }, ...UseStatus.parameters };\nUseConfirmationRisk.parameters = { storySource: { source: "() => {\\n  const [resetCount, setResetCount] = useState(1)\\n  const status = useStatus()\\n  const currentBlockHash = useMemo(() => status?.bestHash, [\\n    Boolean(status?.bestHash),\\n    resetCount,\\n  ])\\n  const risk = useConfirmationRiskByHash(currentBlockHash)\\n\\n  return (\\n    <>\\n      <p>block: {currentBlockHash}</p>\\n      <p>risk: {risk}</p>\\n      <button onClick={() => setResetCount((c) => c + 1)}>\\n        try another block\\n      </button>\\n      <ConfluxJSDefinedUI />\\n    </>\\n  )\\n}" }, ...UseConfirmationRisk.parameters };\nUseClientVersion.parameters = { storySource: { source: "() => {\\n  console.log(useClientVersion())\\n  const clientVersion = useClientVersion()\\n\\n  return (\\n    <>\\n      <p>Fullnode version: {clientVersion}</p>\\n      <br />\\n      <ConfluxJSDefinedUI />\\n    </>\\n  )\\n}" }, ...UseClientVersion.parameters };\n',locationsMap:{"use-conflux-portal":{startLoc:{col:33,line:25},endLoc:{col:1,line:66},startBody:{col:33,line:25},endBody:{col:1,line:66}},"use-chain-net-id":{startLoc:{col:30,line:70},endLoc:{col:1,line:82},startBody:{col:30,line:70},endBody:{col:1,line:82}},"use-epoch-number":{startLoc:{col:31,line:86},endLoc:{col:1,line:95},startBody:{col:31,line:86},endBody:{col:1,line:95}},"use-balance":{startLoc:{col:27,line:99},endLoc:{col:1,line:115},startBody:{col:27,line:99},endBody:{col:1,line:115}},"use-status":{startLoc:{col:26,line:119},endLoc:{col:1,line:128},startBody:{col:26,line:119},endBody:{col:1,line:128}},"use-confirmation-risk":{startLoc:{col:36,line:132},endLoc:{col:1,line:151},startBody:{col:36,line:132},endBody:{col:1,line:151}},"use-client-version":{startLoc:{col:33,line:155},endLoc:{col:1,line:166},startBody:{col:33,line:155},endBody:{col:1,line:166}}}}},title:"General"};var UseConfluxPortal=function UseConfluxPortalTemplate(){var _useConfluxPortal=src_useConfluxPortal(["CFX:TYPE.CONTRACT:ACHC8NXJ7R451C223M18W2DWJNMHKD6RXAWRVKVSY2","CFX:TYPE.CONTRACT:ACDRF821T59Y12B4GUYZCKYUW2XF1GFPJ2BA0X4SJ6"]),portalInstalled=_useConfluxPortal.portalInstalled,address=_useConfluxPortal.address,_useConfluxPortal$bal=general_stories_slicedToArray(_useConfluxPortal.balances,2),cfxBalance=_useConfluxPortal$bal[0],tokenBalances=_useConfluxPortal$bal[1],login=_useConfluxPortal.login,useEnsurePortalLogin=_useConfluxPortal.useEnsurePortalLogin,chainId=_useConfluxPortal.chainId,networkId=_useConfluxPortal.networkId;useEnsurePortalLogin();var loggedIn=Boolean(address),_tokenBalances$map2=general_stories_slicedToArray(tokenBalances.map((function(b){return(big_default()(b)/1e18).toString()})),2),fcBalance=_tokenBalances$map2[0],cethBalance=_tokenBalances$map2[1];return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement("p",null,"portalInstalled: ",portalInstalled.toString()),react_default.a.createElement("p",null,"chainId: ",chainId),react_default.a.createElement("p",null,"networkId: ",networkId),react_default.a.createElement("p",null,"address: ",address),react_default.a.createElement("p",null,"CFX balance: ",(big_default()(cfxBalance)/1e18).toString()," CFX"),react_default.a.createElement("div",null,"token balances:",react_default.a.createElement("p",null," FC: ",fcBalance," FC"),react_default.a.createElement("p",null," CETH: ",cethBalance," CETH")),react_default.a.createElement("button",{disabled:loggedIn||!portalInstalled,onClick:login},portalInstalled?loggedIn?"Already logged in":"login into portal":"Portal not installed"),react_default.a.createElement(ConfluxJSDefinedUI,null))}.bind({}),UseChainNetId=function UseChainNetIdTemplate(){var _useChainNetId=useChainNetId(),chainId=_useChainNetId.chainId,networkId=_useChainNetId.networkId;return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement("p",null,"chainId: ",chainId),react_default.a.createElement("p",null,"networkId: ",networkId),react_default.a.createElement(ConfluxJSDefinedUI,null))}.bind({}),UseEpochNumber=function UseEpochNumberTemplate(){var epochNumber=function useEpochNumber(){var confluxJSDefined=useConfluxJSDefined();Object(react.useEffect)((function(){confluxJSDefined&&setupEpochListener()}),[confluxJSDefined]);var _useState2=useEpochNumber_slicedToArray(Object(react.useState)(EPOCH_NUMBER_UPDATED_EVENT_DATA.detail),2),epochNumber=_useState2[0],setEpochNumber=_useState2[1];return Object(useEvent.a)("epochNumberUpdated",(function(){setEpochNumber(EPOCH_NUMBER_UPDATED_EVENT_DATA.detail)})),epochNumber}();return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement("p",null,"epochNumber: ",epochNumber),react_default.a.createElement(ConfluxJSDefinedUI,null))}.bind({}),UseBalance=function UseBalanceTemplate(){var _useBalance2=general_stories_slicedToArray(useBalance("CFX:TYPE.USER:AAKAFCMM3E2BWJMFYCJE5N0Z6JKXGEM1JUDWDH32JZ",["CFX:TYPE.CONTRACT:ACHC8NXJ7R451C223M18W2DWJNMHKD6RXAWRVKVSY2","CFX:TYPE.CONTRACT:ACDRF821T59Y12B4GUYZCKYUW2XF1GFPJ2BA0X4SJ6"]),2),balance=_useBalance2[0],_useBalance2$=general_stories_slicedToArray(_useBalance2[1],2),fcBalance=_useBalance2$[0],cethBalance=_useBalance2$[1];return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement("p",null,"CFX Balance: ",(big_default()(balance)/1e18).toString()," CFX"),react_default.a.createElement("p",null,"FC Balance: ",(big_default()(fcBalance)/1e18).toString()," FC"),react_default.a.createElement("p",null,"cETH Balance: ",(big_default()(cethBalance)/1e18).toString()," cETH"),react_default.a.createElement(ConfluxJSDefinedUI,null))}.bind({}),UseStatus=function UseStatusTemplate(){var status=useStatus();return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement("p",null,"Status: ",JSON.stringify(status)," CFX"),react_default.a.createElement(ConfluxJSDefinedUI,null))}.bind({}),UseConfirmationRisk=function UseConfirmationRiskTemplate(){var _useState2=general_stories_slicedToArray(Object(react.useState)(1),2),resetCount=_useState2[0],setResetCount=_useState2[1],status=useStatus(),currentBlockHash=Object(react.useMemo)((function(){return null==status?void 0:status.bestHash}),[Boolean(null==status?void 0:status.bestHash),resetCount]),risk=function useConfirmationRiskByHash(blockHash){var _useEpochNumberSWR=useEpochNumberSWR(blockHash?["GET_CONFIRMATION_RISK_SWR_ID",blockHash]:null,(function(){var _window,_window$confluxJS;return null===(_window=window)||void 0===_window||null===(_window$confluxJS=_window.confluxJS)||void 0===_window$confluxJS?void 0:_window$confluxJS.getConfirmationRiskByHash(blockHash)})),confirmationRisk=_useEpochNumberSWR.data,getConfirmationRiskError=_useEpochNumberSWR.error;return getConfirmationRiskError&&console.error("Error get confirmationRisk: ".concat(getConfirmationRiskError.message)),confirmationRisk}(currentBlockHash);return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement("p",null,"block: ",currentBlockHash),react_default.a.createElement("p",null,"risk: ",risk),react_default.a.createElement("button",{onClick:function onClick(){return setResetCount((function(c){return c+1}))}},"try another block"),react_default.a.createElement(ConfluxJSDefinedUI,null))}.bind({}),UseClientVersion=function UseClientVersionTemplate(){console.log(useClientVersion());var clientVersion=useClientVersion();return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement("p",null,"Fullnode version: ",clientVersion),react_default.a.createElement("br",null),react_default.a.createElement(ConfluxJSDefinedUI,null))}.bind({});UseConfluxPortal.parameters=Object.assign({storySource:{source:'() => {\n  const {\n    portalInstalled,\n    address,\n    balances: [cfxBalance, tokenBalances],\n    login,\n    useEnsurePortalLogin,\n    chainId, networkId,\n  } = useConfluxPortal([\n    "CFX:TYPE.CONTRACT:ACHC8NXJ7R451C223M18W2DWJNMHKD6RXAWRVKVSY2", // fc contract address\n    "CFX:TYPE.CONTRACT:ACDRF821T59Y12B4GUYZCKYUW2XF1GFPJ2BA0X4SJ6", // ceth contract address\n  ])\n\n  useEnsurePortalLogin()\n  const loggedIn = Boolean(address)\n  const [fcBalance, cethBalance] = tokenBalances.map((b) =>\n    (Big(b) / 1e18).toString()\n  )\n\n  return (\n    <>\n      <p>portalInstalled: {portalInstalled.toString()}</p>\n      <p>chainId: {chainId}</p>\n      <p>networkId: {networkId}</p>\n      <p>address: {address}</p>\n      <p>CFX balance: {(Big(cfxBalance) / 1e18).toString()} CFX</p>\n      <div>\n        token balances:\n        <p> FC: {fcBalance} FC</p>\n        <p> CETH: {cethBalance} CETH</p>\n      </div>\n      <button disabled={loggedIn || !portalInstalled} onClick={login}>\n        {portalInstalled\n          ? loggedIn\n            ? "Already logged in"\n            : "login into portal"\n          : "Portal not installed"}\n      </button>\n      <ConfluxJSDefinedUI />\n    </>\n  )\n}'}},UseConfluxPortal.parameters),UseChainNetId.parameters=Object.assign({storySource:{source:"() => {\n  const {\n    chainId, networkId,\n  } = useChainNetId()\n\n  return (\n    <>\n      <p>chainId: {chainId}</p>\n      <p>networkId: {networkId}</p>\n      <ConfluxJSDefinedUI />\n    </>\n  )\n}"}},UseChainNetId.parameters),UseEpochNumber.parameters=Object.assign({storySource:{source:"() => {\n  const epochNumber = useEpochNumber()\n\n  return (\n    <>\n      <p>epochNumber: {epochNumber}</p>\n      <ConfluxJSDefinedUI />\n    </>\n  )\n}"}},UseEpochNumber.parameters),UseBalance.parameters=Object.assign({storySource:{source:'() => {\n  const userAddr = "CFX:TYPE.USER:AAKAFCMM3E2BWJMFYCJE5N0Z6JKXGEM1JUDWDH32JZ"\n  const tokenAddrs = [\n    "CFX:TYPE.CONTRACT:ACHC8NXJ7R451C223M18W2DWJNMHKD6RXAWRVKVSY2", // fc contract address\n    "CFX:TYPE.CONTRACT:ACDRF821T59Y12B4GUYZCKYUW2XF1GFPJ2BA0X4SJ6", // ceth contract address\n  ]\n  const [balance, [fcBalance, cethBalance]] = useBalance(userAddr, tokenAddrs)\n\n  return (\n    <>\n      <p>CFX Balance: {(Big(balance) / 1e18).toString()} CFX</p>\n      <p>FC Balance: {(Big(fcBalance) / 1e18).toString()} FC</p>\n      <p>cETH Balance: {(Big(cethBalance) / 1e18).toString()} cETH</p>\n      <ConfluxJSDefinedUI />\n    </>\n  )\n}'}},UseBalance.parameters),UseStatus.parameters=Object.assign({storySource:{source:"() => {\n  const status = useStatus()\n\n  return (\n    <>\n      <p>Status: {JSON.stringify(status)} CFX</p>\n      <ConfluxJSDefinedUI />\n    </>\n  )\n}"}},UseStatus.parameters),UseConfirmationRisk.parameters=Object.assign({storySource:{source:"() => {\n  const [resetCount, setResetCount] = useState(1)\n  const status = useStatus()\n  const currentBlockHash = useMemo(() => status?.bestHash, [\n    Boolean(status?.bestHash),\n    resetCount,\n  ])\n  const risk = useConfirmationRiskByHash(currentBlockHash)\n\n  return (\n    <>\n      <p>block: {currentBlockHash}</p>\n      <p>risk: {risk}</p>\n      <button onClick={() => setResetCount((c) => c + 1)}>\n        try another block\n      </button>\n      <ConfluxJSDefinedUI />\n    </>\n  )\n}"}},UseConfirmationRisk.parameters),UseClientVersion.parameters=Object.assign({storySource:{source:"() => {\n  console.log(useClientVersion())\n  const clientVersion = useClientVersion()\n\n  return (\n    <>\n      <p>Fullnode version: {clientVersion}</p>\n      <br />\n      <ConfluxJSDefinedUI />\n    </>\n  )\n}"}},UseClientVersion.parameters)},218:function(module){module.exports=JSON.parse('[{"payable":true,"stateMutability":"payable","type":"fallback"},{"constant":true,"inputs":[{"name":"user","type":"address"},{"name":"token","type":"address"}],"name":"tokenBalance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"users","type":"address[]"},{"name":"tokens","type":"address[]"}],"name":"balances","outputs":[{"name":"","type":"uint256[]"}],"payable":false,"stateMutability":"view","type":"function"}]')},496:function(module,exports,__webpack_require__){__webpack_require__(497),__webpack_require__(648),__webpack_require__(649),__webpack_require__(801),__webpack_require__(1073),__webpack_require__(1105),__webpack_require__(1110),__webpack_require__(1122),__webpack_require__(1124),__webpack_require__(1129),__webpack_require__(1131),module.exports=__webpack_require__(1137)},563:function(module,exports){},649:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(361)}},[[496,1,2]]]);
//# sourceMappingURL=main.440ed86964e76ab4d82b.bundle.js.map